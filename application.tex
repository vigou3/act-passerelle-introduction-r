\section{Fonctions d'application}

\begin{frame}[fragile]
  \frametitle{Fonction \texttt{apply}}

  \texttt{apply} applique une fonction sur une partie d'une
  \alert{matrice} ou d'un \alert{tableau}.
  \begin{Schunk}
\begin{lstlisting}
apply(X, MARGIN, FUN, ...)
\end{lstlisting}
  \end{Schunk}
  \begin{itemize}
  \item \texttt{X} matrice ou tableau
  \item \texttt{MARGIN} dimensions sur lesquelles la fonction doit
    s'appliquer
  \item \texttt{FUN} fonction à appliquer
  \item `\texttt{...}' arguments additionnels à passer à \texttt{FUN}
  \end{itemize}

  \pause
  \video{https://youtu.be/8UQN6RRnsFA}{Fonction \texttt{apply}}
\end{frame}

\begin{frame}[fragile=singleslide]
  \frametitle{Fonction \texttt{tapply}}

  \texttt{tapply} applique une fonction sur les \alert{groupes de données}
  définis par les catégories de \alert{facteurs}.
  \begin{Schunk}
\begin{lstlisting}
tapply(X, INDEX, FUN, ...)
\end{lstlisting}
  \end{Schunk}
  \begin{itemize}
  \item \texttt{X} vecteur simple
  \item \texttt{INDEX} facteur (ou liste de facteurs) de la même longueur que \texttt{X}
  \item \texttt{FUN} fonction à appliquer
  \item `\texttt{...}' arguments additionnels à passer à \texttt{FUN}
  \end{itemize}

  Fonctions apparentées parfois plus simples d'utilisation:
  \texttt{by}, \texttt{aggregate}.
\end{frame}

\begin{frame}[fragile]
  \frametitle{Fonctions \texttt{lapply} et \texttt{sapply}}

  \texttt{lapply} applique une fonction sur tous les éléments d'un
  \alert{vecteur} ou d'une \alert{liste} et retourne le résultat sous
  forme de liste.

  \texttt{sapply} retourne le résultat sous forme de vecteur simple ou
  de matrice, lorsque c'est possible.
  \begin{Schunk}
\begin{lstlisting}
lapply(X, FUN, ...)
sapply(X, FUN, ...)
\end{lstlisting}
  \end{Schunk}
  \begin{itemize}
  \item \texttt{X} vecteur simple ou liste
  \item \texttt{FUN} fonction à appliquer
  \item `\texttt{...}' arguments additionnels à passer à \texttt{FUN}
  \end{itemize}

  Autre fonction de la même famille: \texttt{mapply}.

  \pause
  \gotoR{application.R}
\end{frame}

\begin{frame}[fragile=singleslide]
  \frametitle{Exercices}

  \begin{enumerate}
  \item Soit $X_{ijk}$ un tableau de données $n \times p \times r$ et
    soit $w_{ijk}$ un tableau de poids correspondant à ces données.

    Écrire une expression R pour calculer la moyenne pondérée
    \begin{equation*}
      X_{wjw} = \sum_{i = 1}^n \sum_{k = 1}^r
      \frac{w_{ijk}}{w_{\pt j \pt}} X_{ijk} \qquad
      w_{\pt j \pt} = \sum_{i = 1}^n \sum_{k = 1}^r w_{ijk}.
    \end{equation*}
  \item Générer la suite de nombres
\begin{verbatim}
0  0  1  0  1  2  ...  0  1  2  3  ...  10
\end{verbatim}
    (Évidemment, il faut trouver un moyen de générer les suites sans
    simplement concaténer les différentes sous-suites.)
  \end{enumerate}
\end{frame}

%%% Local Variables:
%%% mode: latex
%%% TeX-engine: xetex
%%% TeX-master: "act-passerelle-introduction-r"
%%% End:
